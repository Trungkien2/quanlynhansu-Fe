import{o as C,x as f,r as x,j as e}from"./index-CbTo-eTW.js";import{a as h}from"./index.es-CCXWf--J.js";import{u as j,C as b}from"./index.esm-CU71HtH0.js";import{a as g,e as y,c as E}from"./departmentApi-WFj6Ri5T.js";import{C as S}from"./CCardGroup-HDnlwME6.js";import{C as w,a as N}from"./CCardBody-BEpxqQHd.js";import{C as O}from"./CForm-DnLZvK5b.js";import{C as v}from"./CInputGroup-C98M1vGL.js";import{C as D}from"./CFormInput-Cg9AIggH.js";import{C as F,a as V}from"./CRow-M-J25O2z.js";import"./axiosClient-BIXGjfOH.js";import"./index-BWBikUGW.js";import"./CFormControlWrapper-Cn2KsSi7.js";import"./CFormControlValidation-BBxMmaAk.js";import"./CFormLabel-DiFyRKSA.js";const T=()=>{const o=C();let{id:a}=f();const{control:m,handleSubmit:n,setValue:i,formState:{errors:B}}=j({mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{name:""}}),c=async t=>{try{const r=await g(t,{fields:["$all"]});console.log("ðŸš€ ~ getOne ~ res:",r);const s={name:r.name};Object.entries(s).forEach(([p,u])=>{i(p,u)})}catch(r){alert(r.response.data.message)}};x.useEffect(()=>{a&&c(a)},[a]);function l(t){}async function d(t){try{let r;const s={name:t.name};a?r=await y(a,s):r=await E(s),o(-1)}catch(r){alert(r.response.data.message)}}return e.jsxs("div",{children:[" ",e.jsx(S,{children:e.jsx(w,{className:"p-4",children:e.jsx(N,{children:e.jsxs(O,{onSubmit:n(d,l),children:[e.jsx("h1",{children:"Create"}),e.jsx(v,{className:"mb-3",children:e.jsx(b,{name:"name",control:m,render:({field:t})=>e.jsx(D,{placeholder:"Department name",autoComplete:"username",...t})})}),e.jsx(F,{children:e.jsx(V,{xs:6,children:e.jsx(h,{type:"submit",color:"primary",className:"px-4",children:a?"Edit":"Create"})})})]})})})})]})};export{T as default};
